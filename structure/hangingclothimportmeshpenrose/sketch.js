var mesh = [[388, 82, 400, 98], [419, 104, 400, 98], [412, 82, 400, 98], [412, 82, 431, 88], [400, 118, 400, 98], [419, 104, 419, 125], [381, 104, 400, 98], [400, 118, 419, 125], [369, 88, 369, 105], [381, 125, 369, 108], [369, 105, 369, 108], [369, 88, 381, 72], [387, 70, 400, 65], [387, 70, 381, 72], [419, 72, 431, 88], [419, 72, 403, 66], [431, 88, 431, 108], [419, 125, 431, 108], [439, 65, 439, 45], [419, 72, 439, 65], [381, 51, 381, 72], [450, 102, 431, 108], [443, 125, 462, 118], [357, 125, 369, 108], [357, 125, 369, 141], [419, 125, 431, 141], [412, 147, 431, 141], [450, 102, 450, 82], [431, 88, 450, 82], [400, 65, 400, 45], [381, 51, 400, 45], [400, 65, 403, 66], [350, 82, 369, 88], [362, 65, 350, 82], [388, 29, 400, 45], [400, 12, 388, 29], [400, 12, 412, 29], [431, 23, 431, 22], [419, -14, 419, 6], [381, 6, 400, 12], [381, 6, 369, 22], [369, 22, 388, 29], [338, 65, 318, 72], [330, 88, 318, 72], [318, 72, 299, 65], [299, 45, 318, 51], [307, 88, 318, 72], [318, 104, 307, 88], [338, 184, 350, 168], [350, 168, 369, 161], [350, 168, 350, 147], [369, 161, 369, 141], [330, 161, 350, 168], [338, 184, 318, 178], [330, 161, 318, 178], [462, 184, 450, 168], [439, 184, 450, 168], [470, 161, 450, 168], [450, 167, 450, 168], [470, 161, 470, 141], [431, 161, 450, 168], [431, 161, 431, 141], [470, 88, 482, 72], [470, 88, 482, 104], [482, 72, 501, 65], [501, 45, 501, 65], [462, 65, 482, 72], [462, 65, 450, 82], [470, 88, 451, 82], [450, 82, 451, 82], [450, 61, 462, 45], [450, 82, 439, 65], [462, 98, 482, 104], [450, 135, 451, 135], [462, 118, 451, 135], [443, 125, 431, 141], [450, 135, 431, 141], [381, 157, 381, 178], [369, 141, 350, 147], [330, 141, 350, 135], [338, 98, 318, 104], [350, 82, 330, 88], [338, 98, 350, 82], [350, 61, 350, 82], [338, 65, 350, 82], [350, 61, 338, 45], [381, 39, 369, 22], [419, 39, 400, 45], [412, 29, 400, 45], [419, 39, 431, 22], [361, 45, 350, 29], [450, 29, 439, 45], [431, 23, 419, 39], [435, 24, 450, 29], [462, 118, 482, 125], [482, 125, 482, 104], [400, 184, 419, 178], [400, 164, 400, 184], [400, 184, 381, 178], [337, 118, 318, 125], [330, 141, 319, 126], [318, 157, 330, 141], [307, 141, 318, 157], [319, 126, 318, 125], [318, 157, 299, 164], [330, 194, 318, 178], [311, 200, 330, 194], [350, 221, 350, 200], [369, 194, 381, 178], [369, 194, 350, 200], [369, 214, 369, 194], [369, 194, 388, 200], [369, 214, 388, 221], [431, 194, 419, 178], [412, 200, 431, 194], [412, 221, 431, 214], [431, 214, 431, 194], [451, 200, 450, 200], [470, 214, 470, 194], [451, 200, 470, 194], [470, 194, 482, 178], [470, 214, 489, 221], [482, 178, 470, 161], [482, 178, 482, 157], [470, 141, 482, 157], [501, 164, 482, 157], [482, 178, 501, 184], [470, 141, 482, 125], [482, 157, 494, 141], [501, 118, 501, 98], [501, 118, 482, 125], [520, 104, 501, 98], [501, 118, 520, 125], [513, 61, 513, 62], [513, 82, 513, 62], [532, 68, 532, 88], [532, 68, 513, 62], [525, 45, 513, 62], [544, 51, 532, 68], [501, 45, 482, 39], [493, 23, 482, 39], [513, 29, 494, 22], [494, 22, 493, 23], [431, 22, 431, 2], [450, 8, 450, 29], [431, 2, 450, 8], [443, -14, 431, 2], [450, 8, 456, 1], [462, -8, 456, 1], [412, -37, 400, -21], [381, -14, 369, -31], [400, -21, 388, -37], [369, 2, 381, -14], [369, -31, 357, -14], [357, -14, 369, 2], [431, 2, 419, -14], [513, 82, 532, 88], [431, 214, 450, 221], [319, 39, 299, 45], [338, 45, 319, 39], [350, 29, 349, 29], [330, 22, 319, 39], [330, 22, 349, 29], [330, 22, 319, 6], [319, 39, 307, 22], [319, 6, 318, 6], [299, 45, 287, 61], [287, 82, 287, 61], [276, 45, 287, 61], [275, 45, 287, 29], [268, 68, 287, 61], [287, 82, 268, 88], [299, 98, 287, 82], [299, 98, 318, 104], [280, 104, 299, 98], [299, 118, 280, 125], [307, 22, 287, 29], [287, 29, 299, 45], [388, 220, 388, 200], [400, 204, 388, 220], [299, 118, 318, 125], [299, 131, 280, 125], [319, 6, 338, 12], [501, 131, 520, 125], [506, 138, 501, 131], [513, 147, 506, 138], [482, 125, 494, 141], [330, -31, 318, -14], [307, -31, 318, -14], [318, -14, 338, -8], [318, -14, 299, -8], [299, -8, 287, -24], [290, -26, 306, -31], [256, 125, 256, 124], [256, 125, 268, 141], [287, 147, 299, 131], [268, 141, 287, 147], [268, 141, 280, 125], [249, 167, 268, 161], [268, 141, 249, 147], [268, 161, 268, 141], [249, 147, 249, 148], [388, 220, 388, 221], [400, 237, 388, 221], [431, 227, 419, 243], [419, 243, 400, 237], [400, 257, 400, 237], [381, 263, 381, 243], [400, 237, 381, 243], [369, 227, 381, 243], [369, 227, 388, 221], [520, 125, 532, 141], [551, 147, 532, 141], [544, 125, 532, 141], [532, 161, 532, 141], [551, 148, 551, 147], [551, 168, 532, 161], [513, 147, 532, 141], [470, -31, 482, -14], [482, -14, 501, -8], [482, -14, 462, -8], [462, 12, 462, -8], [450, -25, 451, -25], [451, -25, 470, -31], [338, 237, 350, 253], [338, 237, 349, 221], [369, 260, 350, 253], [369, 280, 369, 260], [350, 253, 350, 254], [350, 253, 330, 260], [338, 237, 319, 243], [319, 243, 318, 243], [318, 243, 330, 260], [438, 237, 450, 221], [439, 237, 438, 237], [439, 237, 450, 253], [450, 253, 470, 260], [470, 260, 470, 280], [470, 280, 469, 280], [450, 253, 431, 260], [419, 243, 438, 237], [419, 243, 431, 260], [544, 178, 532, 194], [532, 161, 532, 162], [520, 178, 532, 194], [532, 161, 520, 178], [532, 214, 532, 194], [532, 194, 513, 200], [513, 221, 513, 220], [501, 184, 513, 200], [520, 178, 501, 184], [563, 98, 551, 82], [563, 98, 544, 104], [544, 104, 532, 88], [520, -14, 532, 2], [532, 2, 551, 8], [532, 2, 532, 22], [551, 8, 551, 29], [513, 8, 532, 2], [513, 8, 513, 29], [520, -14, 501, -8], [513, 8, 501, -8], [450, -90, 438, -74], [438, -74, 439, -74], [439, -74, 450, -57], [450, -57, 470, -51], [470, -31, 470, -51], [450, -37, 470, -31], [431, -51, 450, -57], [431, -51, 419, -67], [419, -67, 438, -74], [361, -74, 350, -57], [338, -74, 350, -57], [350, -57, 369, -51], [350, -37, 369, -31], [369, -51, 369, -31], [330, -51, 350, -57], [268, -31, 256, -14], [256, -14, 268, 2], [280, -14, 268, 2], [287, 8, 268, 2], [249, 8, 268, 2], [237, -8, 256, -14], [249, 8, 237, -8], [225, 82, 237, 98], [237, 98, 249, 82], [237, 98, 256, 104], [237, 118, 256, 125], [256, 104, 256, 124], [237, 98, 218, 104], [206, 88, 218, 104], [206, 88, 225, 82], [268, 162, 256, 178], [268, 162, 268, 161], [268, 194, 256, 178], [287, 220, 287, 200], [268, 214, 263, 216], [263, 216, 249, 220], [249, 200, 268, 194], [237, 184, 256, 178], [237, 184, 249, 200], [237, 45, 225, 29], [256, 51, 237, 45], [419, -67, 400, -74], [412, -90, 400, -74], [419, -67, 431, -84], [419, -67, 419, -47], [400, -74, 381, -67], [369, -84, 388, -90], [369, -84, 381, -67], [563, 45, 551, 29], [563, 65, 563, 45], [544, 51, 544, 52], [563, 45, 544, 51], [532, 35, 551, 29], [532, 35, 544, 51], [501, 237, 489, 221], [513, 221, 501, 204], [501, 237, 513, 221], [489, 221, 489, 220], [514, 221, 513, 221], [501, 237, 482, 243], [481, 243, 482, 243], [489, 221, 470, 227], [481, 243, 470, 227], [287, 221, 299, 237], [287, 220, 287, 221], [318, 243, 299, 237], [299, 237, 286, 241], [563, 65, 544, 72], [544, 125, 536, 113], [532, 108, 532, 88], [544, 71, 544, 72], [532, 35, 513, 29], [451, 221, 470, 227], [470, 227, 482, 243], [513, 168, 501, 184], [513, 168, 532, 161], [450, 221, 451, 221], [513, 220, 513, 200], [489, 221, 501, 204], [513, 147, 513, 168], [350, 221, 369, 227], [311, 200, 299, 184], [311, 221, 299, 204], [349, 221, 350, 221], [268, 108, 256, 125], [268, 108, 280, 125], [280, 104, 268, 88], [431, -31, 431, -51], [450, -37, 431, -31], [451, -25, 431, -31], [419, -47, 400, -53], [287, 253, 299, 237], [299, 258, 287, 274], [287, 274, 287, 253], [299, 257, 299, 237], [268, 260, 280, 243], [280, 243, 286, 241], [268, 260, 287, 253], [268, 260, 257, 244], [249, 221, 249, 220], [268, 227, 249, 221], [287, 220, 268, 214], [318, 263, 330, 280], [330, 260, 330, 280], [318, 296, 307, 280], [318, 296, 330, 280], [307, 280, 318, 263], [256, 243, 268, 227], [249, 220, 237, 237], [299, 290, 287, 274], [256, 243, 257, 244], [256, 243, 237, 237], [307, 280, 287, 274], [520, 244, 532, 260], [513, 274, 513, 273], [513, 253, 513, 273], [501, 257, 513, 274], [495, 279, 513, 274], [532, 227, 544, 243], [551, 221, 563, 237], [544, 243, 563, 237], [470, 280, 482, 296], [532, 260, 551, 253], [493, 280, 495, 279], [551, 253, 563, 237], [532, 260, 544, 243], [218, 39, 237, 45], [217, 51, 198, 45], [198, 45, 218, 39], [206, 22, 225, 29], [206, 23, 218, 39], [206, 22, 206, 23], [218, 72, 218, 71], [217, 7, 206, 22], [225, 29, 237, 12], [237, 12, 237, -8], [249, 29, 249, 28], [218, 72, 206, 88], [198, 65, 198, 66], [187, 82, 206, 88], [187, 82, 198, 66], [218, 6, 218, -14], [198, 45, 186, 61], [400, -74, 388, -90], [388, -110, 388, -90], [400, -94, 388, -110], [400, -94, 400, -74], [412, -110, 412, -90], [400, -94, 412, -110], [430, -104, 412, -110], [431, -84, 412, -90], [419, -67, 439, -74], [450, -90, 431, -84], [350, -90, 361, -74], [369, -84, 350, -90], [369, -104, 369, -84], [350, -110, 350, -90], [369, -104, 350, -110], [431, -104, 431, -84], [450, -90, 450, -110], [369, -116, 388, -110], [431, -104, 430, -104], [431, -116, 450, -110], [431, -116, 412, -110], [369, -104, 388, -110], [575, 28, 594, 22], [582, 51, 601, 45], [602, 45, 601, 45], [602, 45, 582, 39], [602, 45, 602, 64], [582, 72, 563, 65], [582, 72, 594, 88], [563, 12, 563, -8], [563, -8, 582, -14], [582, -14, 582, 6], [563, 12, 582, 6], [594, 88, 614, 82], [602, 65, 614, 82], [594, 2, 594, 22], [602, 65, 602, 64], [594, 22, 582, 6], [594, 2, 595, 2], [514, 221, 532, 227], [411, 274, 400, 290], [418, 296, 400, 290], [419, 296, 418, 296], [419, 296, 419, 316], [419, 296, 421, 299], [431, 313, 421, 299], [431, 313, 443, 296], [431, 280, 419, 296], [369, 280, 357, 296], [396, 258, 381, 263], [571, 142, 582, 158], [593, 143, 582, 158], [593, 143, 594, 141], [594, 141, 594, 161], [613, 147, 594, 141], [594, 141, 598, 140], [614, 135, 598, 140], [575, 201, 594, 194], [614, 135, 602, 119], [582, 125, 594, 141], [583, 125, 582, 125], [563, 184, 575, 201], [563, 184, 563, 204], [614, 102, 594, 108], [563, 131, 544, 125], [513, -57, 495, -51], [502, -72, 513, -57], [502, -72, 501, -74], [520, -68, 501, -74], [513, -90, 501, -74], [501, -94, 501, -78], [501, -74, 501, -78], [551, -37, 551, -57], [501, -94, 482, -88], [482, -68, 501, -74], [563, -8, 551, -24], [551, -37, 532, -31], [451, -90, 450, -90], [470, -84, 481, -68], [481, -68, 481, -67], [482, -68, 481, -68], [287, -57, 287, -38], [269, -51, 287, -57], [287, -37, 268, -31], [269, -51, 268, -51], [256, -67, 268, -51], [280, -67, 268, -51], [264, -52, 268, -51], [249, -57, 264, -52], [299, -94, 318, -88], [249, -37, 249, -57], [318, -67, 330, -84], [318, -67, 318, -88], [229, -31, 248, -25], [290, -26, 287, -24], [318, -47, 330, -31], [236, 163, 218, 157], [218, 157, 218, 176], [237, 164, 237, 184], [218, 178, 218, 176], [199, 184, 218, 178], [206, 161, 218, 178], [218, 178, 216, 181], [206, 194, 216, 181], [187, 135, 198, 118], [218, 178, 237, 184], [225, 200, 206, 194], [198, 118, 218, 125], [237, 204, 249, 220], [237, 164, 249, 148], [237, 131, 218, 125], [551, 221, 563, 204], [237, -8, 248, -25], [412, 82, 400, 65], [400, 65, 388, 82], [431, 88, 419, 104], [381, 125, 400, 118], [381, 125, 381, 104], [381, 104, 369, 88], [369, 88, 388, 82], [400, 131, 419, 125], [400, 131, 381, 125], [400, 131, 388, 147], [388, 147, 400, 164], [400, 164, 412, 147], [412, 147, 400, 131], [439, 45, 419, 51], [419, 51, 419, 72], [362, 65, 362, 45], [362, 45, 381, 51], [362, 65, 381, 72], [443, 125, 431, 108], [450, 102, 462, 118], [369, 108, 350, 102], [350, 102, 338, 118], [338, 118, 357, 125], [369, 141, 381, 125], [369, 141, 388, 147], [419, 51, 400, 45], [350, 82, 350, 102], [419, 6, 400, 12], [431, 23, 412, 29], [431, 22, 419, 6], [419, -14, 400, -8], [400, -8, 400, 12], [381, 6, 381, -14], [381, -14, 400, -8], [338, 45, 318, 51], [318, 72, 318, 51], [338, 65, 338, 45], [299, 45, 299, 65], [287, 82, 299, 65], [287, 82, 307, 88], [330, 88, 318, 104], [350, 168, 362, 184], [362, 184, 350, 200], [350, 200, 338, 184], [362, 184, 381, 178], [381, 178, 369, 161], [330, 141, 330, 161], [330, 141, 350, 147], [451, 200, 462, 184], [439, 184, 450, 200], [462, 184, 482, 178], [470, 141, 450, 147], [450, 147, 450, 167], [431, 141, 450, 147], [431, 161, 419, 178], [419, 178, 439, 184], [482, 72, 494, 88], [494, 88, 482, 104], [494, 88, 513, 82], [513, 82, 501, 65], [501, 45, 482, 51], [482, 51, 482, 72], [462, 65, 462, 45], [482, 51, 462, 45], [450, 61, 450, 62], [450, 62, 450, 82], [439, 45, 450, 61], [450, 61, 450, 82], [462, 118, 451, 102], [451, 102, 451, 82], [462, 118, 462, 98], [462, 98, 451, 82], [470, 141, 451, 135], [419, 157, 431, 141], [400, 164, 419, 157], [419, 157, 419, 178], [381, 157, 369, 141], [381, 157, 400, 164], [350, 135, 369, 141], [338, 118, 350, 135], [338, 98, 338, 118], [350, 82, 361, 65], [361, 65, 361, 45], [361, 45, 350, 61], [381, 39, 400, 45], [381, 39, 362, 45], [419, 39, 439, 45], [431, 22, 412, 29], [350, 29, 338, 45], [369, 22, 350, 29], [361, 45, 362, 45], [435, 24, 431, 22], [450, 29, 462, 45], [450, 135, 470, 141], [462, 118, 450, 135], [338, 118, 337, 118], [318, 104, 318, 125], [318, 157, 318, 178], [307, 141, 318, 125], [299, 164, 299, 184], [318, 178, 299, 184], [307, 141, 287, 147], [299, 164, 287, 147], [330, 194, 350, 200], [350, 221, 330, 214], [330, 214, 330, 194], [311, 221, 311, 200], [311, 221, 330, 214], [350, 221, 369, 214], [400, 184, 388, 200], [419, 178, 438, 184], [438, 184, 450, 200], [450, 200, 431, 194], [400, 184, 412, 200], [412, 200, 412, 221], [450, 200, 462, 184], [450, 200, 450, 221], [450, 221, 470, 214], [470, 194, 489, 200], [489, 200, 501, 184], [489, 200, 489, 220], [501, 184, 501, 164], [513, 147, 494, 141], [513, 147, 501, 164], [482, 104, 501, 98], [501, 98, 513, 82], [520, 104, 520, 125], [513, 61, 501, 45], [501, 45, 513, 29], [513, 29, 525, 45], [544, 51, 525, 45], [462, 45, 482, 39], [482, 39, 470, 22], [470, 22, 450, 29], [494, 22, 482, 6], [482, 6, 470, 22], [443, -14, 462, -8], [400, -21, 381, -14], [419, -14, 400, -21], [431, -31, 412, -37], [431, -31, 419, -14], [369, -31, 388, -37], [412, -37, 400, -53], [400, -53, 388, -37], [369, 22, 369, 2], [369, 2, 350, 8], [350, 8, 350, 29], [338, -8, 357, -14], [338, -8, 350, 8], [443, -14, 431, -31], [520, 104, 532, 88], [338, 45, 319, 51], [319, 51, 299, 45], [318, 6, 307, 22], [275, 45, 276, 45], [268, 88, 268, 68], [275, 45, 256, 51], [256, 51, 268, 68], [299, 98, 299, 118], [280, 104, 280, 125], [400, 204, 412, 221], [400, 204, 400, 184], [299, 131, 318, 125], [349, 29, 338, 12], [330, 22, 318, 6], [349, 29, 349, 8], [349, 8, 338, -8], [338, -8, 338, 12], [450, 29, 462, 12], [482, 6, 462, 12], [501, 131, 482, 125], [318, -47, 306, -31], [306, -31, 307, -31], [338, -8, 350, -24], [350, -24, 330, -31], [318, -14, 318, 6], [318, 6, 299, 12], [299, -8, 299, 12], [268, 108, 256, 124], [287, 147, 287, 167], [287, 167, 268, 161], [249, 167, 249, 148], [237, 131, 256, 125], [237, 131, 249, 147], [400, 237, 412, 221], [431, 227, 412, 221], [419, 243, 419, 263], [419, 263, 400, 257], [396, 258, 400, 257], [532, 108, 536, 113], [520, 125, 532, 108], [551, 147, 563, 131], [551, 168, 551, 148], [482, -14, 493, -31], [493, -31, 482, -47], [482, -47, 470, -31], [493, -31, 513, -25], [501, -8, 513, -24], [513, -24, 513, -25], [501, -8, 501, 12], [501, 12, 482, 6], [482, 6, 482, -14], [450, -25, 450, -24], [450, -24, 462, -8], [350, 221, 362, 237], [362, 237, 350, 253], [369, 260, 381, 243], [362, 237, 381, 243], [350, 254, 350, 274], [350, 274, 369, 280], [330, 280, 350, 274], [450, 221, 462, 237], [462, 237, 450, 253], [481, 243, 462, 237], [481, 243, 470, 260], [450, 253, 450, 274], [450, 274, 469, 280], [431, 280, 450, 274], [431, 280, 431, 260], [544, 178, 532, 162], [532, 194, 551, 200], [563, 184, 544, 178], [563, 184, 551, 200], [551, 221, 551, 200], [532, 214, 551, 221], [513, 221, 532, 214], [563, 98, 575, 82], [575, 82, 563, 65], [563, 65, 551, 82], [563, 98, 582, 104], [582, 104, 594, 88], [594, 88, 575, 82], [582, 104, 582, 125], [582, 125, 563, 118], [563, 118, 563, 98], [563, 118, 544, 125], [544, 125, 544, 104], [551, 82, 532, 88], [532, 2, 544, -14], [544, -14, 532, -31], [532, -31, 520, -14], [563, -8, 544, -14], [563, -8, 551, 8], [551, 29, 532, 22], [532, 22, 513, 29], [450, -90, 462, -74], [462, -74, 450, -57], [481, -67, 470, -51], [481, -67, 462, -74], [481, -67, 482, -67], [450, -37, 450, -57], [338, -74, 350, -90], [381, -67, 369, -51], [381, -67, 361, -74], [350, -37, 350, -57], [330, -51, 330, -31], [330, -31, 350, -37], [338, -74, 318, -67], [318, -67, 330, -51], [268, -31, 280, -14], [299, -8, 280, -14], [287, 8, 299, -8], [287, 8, 287, 29], [287, 29, 268, 22], [268, 22, 268, 2], [249, 28, 249, 8], [249, 29, 268, 22], [237, 66, 237, 65], [237, 65, 225, 82], [249, 82, 237, 66], [268, 88, 256, 104], [268, 88, 249, 82], [237, 118, 237, 98], [218, 125, 237, 118], [218, 125, 218, 104], [268, 194, 280, 178], [280, 178, 268, 161], [280, 178, 299, 184], [299, 184, 287, 200], [268, 194, 287, 200], [268, 214, 268, 194], [249, 200, 249, 220], [237, 45, 249, 29], [249, 29, 237, 12], [249, 29, 268, 35], [256, 51, 268, 35], [256, 51, 256, 71], [256, 71, 237, 65], [237, 65, 237, 45], [217, 51, 237, 45], [217, 51, 217, 71], [217, 71, 218, 71], [237, 65, 218, 71], [400, -53, 400, -74], [381, -67, 381, -47], [381, -47, 400, -53], [551, 29, 563, 12], [563, 12, 575, 29], [563, 45, 575, 29], [582, 72, 582, 51], [582, 51, 563, 45], [563, 65, 544, 71], [544, 52, 544, 72], [501, 204, 489, 220], [501, 237, 520, 243], [520, 243, 532, 227], [481, 243, 481, 263], [481, 263, 501, 257], [501, 257, 501, 237], [311, 221, 299, 237], [287, 220, 299, 204], [318, 243, 330, 227], [330, 227, 311, 221], [299, 257, 318, 263], [318, 263, 318, 243], [287, 221, 268, 227], [268, 227, 280, 243], [544, 72, 532, 88], [513, 29, 501, 12], [544, 52, 532, 68], [544, 71, 544, 51], [462, 237, 451, 221], [419, 243, 439, 237], [439, 237, 450, 221], [431, 227, 450, 221], [451, 221, 470, 214], [501, 184, 501, 204], [501, 204, 513, 220], [299, 204, 299, 184], [287, 221, 299, 204], [268, 161, 287, 168], [287, 168, 299, 184], [287, 147, 287, 168], [319, 243, 331, 227], [331, 227, 349, 221], [338, 237, 350, 221], [330, 227, 350, 221], [268, 35, 287, 29], [268, 108, 268, 88], [287, 29, 299, 12], [276, 45, 287, 29], [268, 88, 256, 72], [256, 72, 237, 66], [237, 65, 249, 82], [256, 51, 256, 72], [431, -31, 419, -47], [330, -31, 350, -25], [369, -31, 350, -24], [350, -24, 350, -25], [450, -37, 451, -37], [451, -37, 470, -31], [451, -25, 451, -24], [451, -24, 470, -31], [450, -25, 451, -24], [451, -24, 462, -8], [450, -25, 431, -31], [369, -31, 381, -47], [350, -25, 338, -8], [350, -25, 369, -31], [299, 258, 299, 257], [268, 260, 268, 280], [268, 280, 287, 274], [287, 220, 268, 227], [268, 280, 280, 296], [280, 296, 299, 290], [268, 260, 249, 253], [249, 253, 237, 237], [318, 296, 299, 290], [280, 296, 299, 303], [299, 303, 318, 296], [520, 244, 520, 243], [501, 237, 513, 253], [513, 253, 532, 260], [532, 280, 513, 274], [532, 260, 532, 280], [501, 257, 482, 264], [482, 264, 494, 280], [494, 280, 495, 279], [551, 221, 532, 227], [493, 280, 482, 296], [470, 280, 482, 264], [482, 264, 493, 280], [532, 280, 551, 274], [551, 274, 551, 253], [513, 274, 501, 290], [501, 290, 520, 296], [520, 296, 532, 280], [482, 296, 501, 290], [563, 237, 563, 257], [563, 257, 551, 274], [217, 51, 218, 51], [218, 51, 237, 45], [206, 22, 186, 29], [186, 29, 198, 45], [218, 51, 218, 71], [198, 65, 218, 72], [198, 65, 198, 45], [237, 12, 218, 6], [218, 6, 217, 7], [237, 12, 249, 28], [249, 29, 249, 8], [218, 72, 237, 65], [187, 82, 186, 82], [237, -8, 218, -14], [186, 29, 175, 45], [175, 45, 186, 61], [206, 22, 206, 2], [206, 2, 218, -14], [186, 61, 187, 82], [175, 45, 175, 65], [175, 65, 186, 82], [186, 82, 186, 61], [218, -14, 198, -8], [198, -8, 187, 8], [187, 8, 206, 2], [412, -110, 400, -127], [400, -127, 388, -110], [450, -90, 439, -74], [431, -104, 450, -110], [400, -127, 381, -133], [381, -133, 369, -116], [350, -110, 369, -116], [381, -133, 361, -127], [361, -127, 350, -110], [450, -110, 439, -127], [439, -127, 419, -133], [419, -133, 431, -116], [563, 45, 582, 39], [582, 39, 594, 22], [575, 29, 575, 28], [602, 45, 614, 29], [614, 29, 594, 22], [602, 65, 582, 71], [582, 71, 582, 51], [582, 72, 602, 65], [614, 29, 614, 8], [614, 8, 595, 2], [602, 45, 614, 61], [614, 61, 614, 82], [594, 2, 582, -14], [614, 8, 602, -8], [602, -8, 582, -14], [469, 280, 469, 260], [469, 260, 470, 260], [481, 263, 470, 280], [513, 220, 532, 214], [400, 257, 388, 274], [388, 274, 400, 290], [411, 274, 412, 274], [412, 274, 400, 257], [412, 274, 431, 280], [369, 280, 388, 274], [369, 280, 381, 296], [381, 296, 400, 290], [381, 296, 400, 302], [400, 302, 419, 296], [400, 302, 400, 323], [400, 323, 419, 316], [381, 316, 400, 323], [381, 296, 381, 316], [419, 316, 431, 333], [431, 333, 431, 313], [381, 296, 369, 313], [369, 313, 369, 333], [369, 333, 381, 316], [369, 313, 357, 296], [431, 280, 443, 296], [350, 274, 349, 274], [349, 274, 330, 280], [369, 280, 349, 286], [349, 286, 330, 280], [357, 296, 338, 302], [349, 286, 338, 302], [450, 286, 462, 303], [462, 303, 462, 302], [450, 286, 431, 280], [462, 302, 443, 296], [450, 274, 470, 280], [470, 280, 450, 286], [419, 243, 419, 264], [419, 264, 431, 280], [400, 257, 419, 264], [369, 280, 381, 263], [571, 142, 570, 141], [570, 141, 551, 147], [582, 158, 563, 164], [563, 164, 551, 148], [582, 125, 571, 141], [570, 141, 571, 141], [563, 164, 563, 184], [582, 158, 582, 178], [582, 178, 563, 184], [594, 161, 582, 178], [613, 147, 614, 147], [614, 147, 614, 168], [614, 168, 594, 161], [614, 147, 633, 141], [633, 141, 614, 135], [594, 194, 614, 201], [614, 201, 602, 184], [602, 184, 582, 178], [582, 178, 594, 194], [602, 119, 583, 125], [551, 221, 551, 201], [551, 201, 551, 200], [563, 204, 575, 221], [575, 221, 575, 201], [583, 125, 594, 108], [614, 102, 602, 119], [594, 108, 594, 88], [594, 88, 582, 105], [582, 105, 582, 125], [563, 131, 582, 125], [571, 141, 551, 147], [551, 168, 563, 184], [551, 168, 532, 162], [495, -51, 493, -51], [493, -51, 493, -31], [493, -31, 513, -37], [513, -37, 513, -57], [482, -68, 493, -51], [513, -37, 532, -31], [532, -31, 532, -51], [532, -51, 513, -57], [532, -51, 520, -68], [520, -68, 532, -84], [532, -84, 513, -90], [513, -90, 513, -110], [513, -110, 501, -94], [551, -57, 563, -74], [563, -74, 544, -68], [544, -68, 532, -51], [532, -51, 551, -57], [482, -88, 481, -68], [532, -31, 551, -25], [551, -25, 551, -24], [551, -25, 571, -31], [571, -31, 551, -37], [482, -88, 470, -104], [470, -104, 470, -84], [482, -88, 482, -68], [451, -90, 462, -74], [462, -74, 481, -68], [450, -90, 470, -84], [470, -31, 481, -47], [481, -47, 481, -67], [493, -31, 481, -47], [513, -25, 532, -31], [513, -25, 501, -8], [287, -38, 287, -37], [287, -37, 306, -31], [306, -31, 306, -51], [306, -51, 287, -57], [268, -31, 268, -51], [306, -51, 318, -67], [318, -67, 299, -74], [299, -74, 287, -57], [280, -67, 299, -74], [280, -67, 268, -84], [268, -84, 256, -67], [287, -90, 268, -84], [299, -74, 287, -90], [256, -67, 237, -74], [237, -74, 249, -57], [299, -74, 299, -94], [287, -90, 287, -110], [287, -110, 299, -94], [268, -31, 249, -37], [318, -88, 330, -104], [330, -104, 330, -84], [268, -31, 248, -25], [249, -37, 248, -37], [248, -37, 229, -31], [268, -31, 248, -24], [248, -24, 237, -8], [287, -24, 268, -31], [318, -47, 318, -67], [218, 157, 230, 141], [230, 141, 249, 147], [237, 164, 236, 163], [206, 161, 206, 141], [206, 141, 218, 157], [206, 161, 187, 168], [187, 168, 199, 184], [199, 184, 187, 200], [187, 200, 206, 194], [187, 135, 167, 141], [167, 141, 187, 147], [187, 147, 206, 141], [206, 141, 187, 135], [206, 141, 218, 125], [225, 200, 237, 184], [206, 88, 206, 108], [206, 108, 218, 125], [198, 118, 187, 102], [205, 108, 206, 108], [205, 108, 187, 102], [225, 200, 225, 221], [225, 221, 237, 204], [237, 204, 237, 184], [268, 162, 249, 168], [249, 168, 237, 184], [249, 167, 249, 168], [230, 141, 218, 125], [451, -90, 470, -84], [450, -110, 470, -104], [330, -84, 349, -90], [349, -90, 349, -110], [349, -110, 330, -104], [614, 102, 614, 82], [551, -24, 571, -30], [571, -30, 582, -14], [582, -14, 583, -14], [470, 280, 481, 296], [481, 296, 462, 303], [450, 286, 462, 302], [563, 237, 575, 221], [225, 221, 237, 237], [249, 221, 237, 237], [330, 280, 319, 296], [319, 296, 338, 303], [338, 303, 338, 302], [349, 286, 350, 286], [350, 286, 338, 302], [218, -14, 217, -14], [217, -14, 229, -31], [205, 108, 205, 88], [205, 88, 186, 82], [186, 82, 186, 102], [186, 102, 187, 102]];
var fixed_nodes = [[381, -133],[419, -133],[287,-110],[513,-110],[237,-74],[563,-74],[198,-8],[602,-8],[361,-127],[439,-127],[330,-104],[470,-104],[229,-31],[571,-31],[198,-8],[602,-8],[175,45],[602,45], [633, 141],[167,141]];

var x_shift = -100;
var y_shift = 150;
var x_scale = 1;
var y_scale = 1;

/*
var x_spacing = 5;
var y_spacing = 5;
var i0 = 10;
*/

// Aatish Bhatia 01/16/2016 (@aatishb)
// Adapted from Dan Shiffman's Nature of Code
// http://natureofcode.com/book/chapter-5-physics-libraries/
// https://github.com/shiffman/The-Nature-of-Code-Examples-p5.js

// Reference to physics world
var physics;

var particles = [];
var springs = [];
var stiffness = 0.2;

var points = [];
var lines = [];

function setup() {
  createCanvas(600,600);

  // Initialize the physics
  physics=new VerletPhysics2D();
  physics.addBehavior(new GravityBehavior(new Vec2D(0,0.5)));

  // Set the world's bounding box
  physics.setWorldBounds(new Rect(0,0,width,height));
  
  // Make particles
  for(var i = 0; i<mesh.length; i++){

    var x1 = x_scale*mesh[i][0]+x_shift;
    var y1 = y_scale*mesh[i][1]+y_shift;
    var x2 = x_scale*mesh[i][2]+x_shift;
    var y2 = y_scale*mesh[i][3]+y_shift;

    // Check if particle already exists at that location
    if (points.indexOf(str(x1)+':'+str(y1)) < 0) {
      // If not, create the particle
      particles.push(new Particle(new Vec2D(x1,y1)));
      // Anything we make, we have to add into the physics world
      physics.addParticle(particles.slice(-1)[0]);
      // Index new particles by their location
      points.push(str(x1)+':'+str(y1));
    }

    if (points.indexOf(str(x2)+':'+str(y2)) < 0) {
      particles.push(new Particle(new Vec2D(x2,y2)));
      physics.addParticle(particles.slice(-1)[0]);
      points.push(str(x2)+':'+str(y2));
    }

    var i1 = points.indexOf(str(x1)+':'+str(y1));
    var i2 = points.indexOf(str(x2)+':'+str(y2));

    for(var j = 0; j<fixed_nodes.length; j++){
      if(x1==x_scale*fixed_nodes[j][0]+x_shift && y1==y_scale*fixed_nodes[j][1]+y_shift){
        particles[i1].lock();
      }
      if(x2==x_scale*fixed_nodes[j][0]+x_shift && y2==y_scale*fixed_nodes[j][1]+y_shift){
        particles[i2].lock();
      }

    }
    //particles[i1].lock();
    //particles[i2].lock();

    // Make a spring connecting both Particles
    springs.push(new VerletSpring2D(particles[i1],particles[i2],dist(x1,y1,x2,y2),stiffness));
    physics.addSpring(springs.slice(-1)[0]);
    //line(x1,y1,x2,y2);
    lines.push([x1,y1,x2,y2]);
  }




  
  // Lock corners in place
  //particles[0].lock();
  //particles[cloth_particles_wide-1][0].lock();

  //print(points.slice(-1)[0]);
  //print(points.indexOf(str(301)+':'+str(194.1)));
}

function draw() {

  // Update the physics world
  physics.update();

  background(51);

  // This next bit draws lines between the particles
  stroke(200);
  strokeWeight(2);

  for(var i=0; i<lines.length; i++){

    var x1 = lines[i][0];
    var y1 = lines[i][1];
    var x2 = lines[i][2];
    var y2 = lines[i][3];
    
    var i1 = points.indexOf(str(x1)+':'+str(y1));
    var i2 = points.indexOf(str(x2)+':'+str(y2));

    //print(i1,i2);
    line(particles[i1].x,particles[i1].y,particles[i2].x,particles[i2].y);
  
  
  }

}
  

/*
// NOT YET IMPLEMENTED  
// Move the nearest particle by dragging the mouse
function mousePressed() {
  for(var i=0; i<lines.length; i++){

    var x1 = lines[i][0];
    var y1 = lines[i][1];
    var x2 = lines[i][2];
    var y2 = lines[i][3];

    var i1 = points.indexOf(str(x1)+':'+str(y1));
    var i2 = points.indexOf(str(x2)+':'+str(y2));


      if(abs(particles[i1].x-mouseX)<x_spacing && abs(particles[i1].y-mouseY)<y_spacing){
        i0 = i1;
      }
      else if(abs(particles[i2].x-mouseX)<x_spacing && abs(particles[i2].y-mouseY)<y_spacing){
        i0 = i2;
      }


    
  }

  particles[i0].lock();
  particles[i0].x = mouseX;
  particles[i0].y = mouseY;
  particles[i0].unlock();

} 

*/
 
